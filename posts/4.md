---
title: 'venv 파이썬 가상환경 구성하기'
date: '2023-06-19'
tags: ['파이썬']
---
## 1. venv 가상환경 용어 살펴보기
![4-1](/images/posts/4-1.png)
[파이썬 공식 관련 문서 바로가기](https://docs.python.org/ko/3/library/venv.html)   

### 1.1 venv
venv는 Python 내장 모듈로, 프로젝트를 위한 가상 환경을 생성하고 관리하는 도구입니다. 이를 통해 각각의 프로젝트에 독립적인 Python 환경을 구축하여 패키지 의존성을 격리시킬 수 있습니다.

저는 파이썬 프로젝트를 새로 시작할 때마다 venv를 통해 가상환경부터 구성합니다.

### 1.2 가상환경이란?

가상 환경은 프로그래밍에서 사용되는 독립적인 실행 환경으로, 여러 프로젝트를 분리하여 각각의 프로젝트에 필요한 패키지와 라이브러리를 격리된 형태로 관리하여 프로젝트 간의 충돌을 방지하고 개발 환경을 효율적으로 관리하는 도구입니다.

### 1.3 venv를 사용해야 하는 구체적인 예
- 프로젝트 A에서는 프레임워크 Django의 a 버전이 필요하고, 프로젝트 B에서는 b 버전이 필요하다고 가정해 봅시다.

- 각 프로젝트의 가상 환경을 생성하고 관리하기 위해 venv를 사용합니다.

- 프로젝트 A의 가상 환경에서는 Django 프레임워크의 a 버전을 설치하고, 프로젝트 B의 가상 환경에서는 b 버전을 설치합니다.

- 이렇게 각각의 가상 환경을 사용하여 프로젝트 A와 프로젝트 B를 개발하면, 서로 다른 버전의 패키지를 격리된 환경에서 사용할 수 있습니다.

## 2. venv를 이용하여 가상환경 구성하기
### 2.1 윈도우에서 venv 구성
윈도우 PowerShell을 사용한다고 가정하겠습니다. (만약 윈도우에서 Git Bash와 같은 Bash shell을 사용한다면 2.2 맥, 리눅스에서 구성을 참고하세요.)

아래와 같이 명령어를 입력합니다.
```python
python -m venv venv
```
위의 명령어를 해석하면 다음과 같습니다.

①python프로그램 ②-모듈 ③venv(모듈 이름) ④가상환경 이름(예제에선 똑같이 venv라고 지었습니다.)

그러면 venv 폴더가 만들어집니다.

이제 다음과 같이 입력하여 가상환경을 활성화시켜겠습니다.
```
.\venv\Scripts\activate
```
맨 좌측에 (venv)가 나오면 가상환경을 활성화하는데 성공했습니다.

현재의 가상환경을 비활성화시키려면 다음과 같이 명령어를 입력합니다.
```python
deactivate
```
좌측에 (venv)가 사라지면 비활성화가 된 것입니다.

### 2.2 맥, 리눅스에서 구성
맥, 리눅스 환경에서 Bash Shell을 사용한다고 가정하겠습니다.

아래와 같이 명령어를 입력합니다.

윈도우에서 차이점이라면 python이 아니라 python3이라고 입력해야 합니다. 특히 맥에서 python으로 입력하면 python2가 사용될 수도 있습니다.
```
python3 -m venv venv
```
ls 명령어를 통해 venv 폴더가 만들어졌는지 확인합니다.

source는 bash 쉘에서 스크립트 파일을 실행하는 명령어입니다.

(윈도우에선 .(dot) 명령어를 사용합니다.)
```
source venv/bin/activate
```
아무 입력이나 했을 때 출력 끝에 (venv)가 나오면 가상환경 활성화가 된 것입니다.

가상환경 비활성화는 윈도우와 같습니다.
```python
deactivate
```
아무 명령어를 입력했을 때 출력 끝에 (venv)가 사라졌으면 가상환경이 비활성화된 것입니다.
## 3. 마무리
venv를 사용하면 프로젝트별로 독립적인 파이썬 환경을 구성하여 의존성 및 버전을 맞추는데 용이합니다. 파이썬 프로젝트를 시작할 때 venv를 통한 가상환경 구성을 습관화하면 좋을 것 같습니다. requirement.txt와 같이 잘 활용하면 깃허브와 같은 저장소에서 프로젝트를 다운 받아 다른 환경에서 세팅할 때 의존성을 잘 관리할 수 있습니다.